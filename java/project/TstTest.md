# 压力测试

## 性能指标

- 响应时间
  - 响应时间指用户从客户端发起一个请求开始,到客户端接收到从服务器端返回的响应结束，整个过程所耗费的时间。
- HPS（Hits Per Second） ： 每秒点击次数， 单位是次/秒  
- TPS（Transaction per Second） ： 系统每秒处理交易数， 单位是笔/秒  
- QPS（Query per Second） ： 系统每秒处理查询次数， 单位是次/秒。



`对于互联网业务中， 如果某些业务有且仅有一个请求连接， 那么TPS=QPS=HPS， 一般情况下用 TPS 来衡量整个业务流程， 用 QPS 来衡量接口查询次数， 用 HPS 来表示对服务器单击请求 `

- 从外部看， 性能测试主要关注如下三个指标
  - 吞吐量： 每秒钟系统能够处理的请求数、 任务数。
  - 响应时间： 服务处理一个请求或一个任务的耗时。
  - 错误率： 一批请求中结果出错的请求所占比例。

## JMeter   

### 使用步骤

1. 创建测试计划

2. 添加线程组(模拟用户操作)

![image-20210901201048184](https://gitee.com/xiaojihao/pubImage/raw/master/image/jmeter/20210901201146.png)

> 线程组参数详解  

- 线程数： 虚拟用户数。 一个虚拟用户占用一个进程或线程。 设置多少虚拟用户数在这里也就是设置多少个线程数  
- Ramp-Up Period(in seconds)准备时长： 设置的虚拟用户数需要多长时间全部启动。 如果线程数为 10， 准备时长为 2， 那么需要 2 秒钟启动 10 个线程， 也就是每秒钟启动 5 个线程。 
- 循环次数： 每个线程发送请求的次数。 如果线程数为 10， 循环次数为 100， 那么每个线程发送 100 次请求。 总请求数为 10*100=1000 。 如果勾选了“永远”， 那么所有线程会一直发送请求， 一到选择停止运行脚本   
- Delay Thread creation until needed： 直到需要时延迟线程的创建  
- Delay Thread creation until needed： 直到需要时延迟线程的创建  
- 持续时间（秒） ： 测试持续时间， 会覆盖结束时间  
- 启动延迟（秒） ： 测试延迟启动时间， 会覆盖启动时间  
- 启动时间： 测试启动时间， 启动延迟会覆盖它。 当启动时间已过， 手动只需测试时当前时间也会覆盖它  
- 启动时间： 测试启动时间， 启动延迟会覆盖它。 当启动时间已过， 手动只需测试时当前时间也会覆盖它  

