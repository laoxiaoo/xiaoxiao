# 开放平台

- 开放平台网关
  - 请求接入
  - 流量控制
  - 权限控制
- 开发者中心
  - 开发者注册
  - 文档
- 授权中心
  - 哪些app能访问
- 控制后台

## 平台开发者权限验证

- 基于 App key 与 secret实现
  - 防止串改
  - 防止伪造
  - 防止重复使用签名

## 用户权限验证

用户权限值第三方系统是否具备某部分用户指定范围的授权

- 自动授权模式
  - 该模式下第三方必须事web系统，通过重定向方式授权
  - (web应用----web应用)
- 手动授权模式
  - 通过浏览器交互自动生成一个长期有效token，并配置第三方应用中

# OAuth2.0

- 一个开发标准，允许第三方应用访问该用户在某一网站存储的私有资源
- 认证和授权过程各方
  - 服务提供方：开发平台内部 -- 应用体系
  - 用户：商城买家卖家
  - 客户端: 要访问服务提供方资源的第三方应用
  - 资源服务器：开放平台 -- 网关
  - 认证服务器：开放平台 -- 授权中心

## OAuth2.0授权模式

- 授权码模式
  - code授权模式
  - 如qq登录，跳转到qq授权中心，点授权之后，跳转到第三方应用，获取code
- 密码模式
  - 账号密码给第三个
- 客户端模式
  - 内部应用一般采用

## 授权码模式

owner: 用户

user-agent: 浏览器

authorization：认证服务器

client：第三个应用



![](..\image\java\OAuth2\0.png)